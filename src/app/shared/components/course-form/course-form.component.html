<h2>Create / Edit Course</h2>
<form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
    <div class="app-plate">
        <div class="course">
            <h3>Main Info</h3>

            <!-- Title -->
            <div class="form__control">
                <label for="title">Title</label>
                <input type="text" id="title" formControlName="title" placeholder="Input text" />
                <span *ngIf="courseForm.get('title')?.invalid && courseForm.get('title')?.touched"
                      id="titleErrorMessage"
                      class="text-danger">
                    Title is required.
                </span>
            </div>

            <!-- Description -->
            <div class="form__control">
                <label for="description">Description</label>
                <textarea id="description"
                          formControlName="description"
                          placeholder="Input text"
                          rows="4"
                          cols="5"></textarea>
                <span *ngIf="courseForm.get('description')?.invalid && courseForm.get('description')?.touched"
                      id="descriptionErrorMessage"
                      class="text-danger">
                    Description is required.
                </span>
            </div>

            <div class="separator"></div>
            <h3>Authors</h3>

            <!-- Author Input -->
            <div class="form__control">
                <div class="course__flex">
                    <input type="text" id="author" formControlName="author" placeholder="Input Author Name" />
                    <app-button id="createAuthor" (click)="addAuthor()" type="button">Add</app-button>
                </div>
                <span id="authorErrorMessage">New author should contain only latin letters and numbers.</span>

                <!-- Authors List -->
                <div class="course__authors">
                    <div *ngFor="let a of authors.controls; let i = index" class="course__authors-item">
                        {{ a.value }}
                        <fa-icon icon="times" class="course__icon" (click)="removeAuthor(i)"></fa-icon>
                    </div>
                </div>
            </div>

            <div class="separator"></div>
            <h3>Duration</h3>

            <!-- Duration -->
            <div class="form__control">
                <div class="course__flex">
                    <input type="number" id="duration" formControlName="duration" placeholder="Input duration" />
                    <div class="course__duration">{{ courseForm.get('duration')?.value | duration }}</div>
                </div>
                <span *ngIf="courseForm.get('duration')?.invalid && courseForm.get('duration')?.touched"
                      id="durationErrorMessage"
                      class="text-danger">
                    Duration is required.
                </span>
            </div>

            <!-- Submit -->
            <div class="form__action">
                <app-button type="submit">Save Course</app-button>
            </div>
        </div>
    </div>
</form>
